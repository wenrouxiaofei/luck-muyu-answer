<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>ç”µå­æœ¨é±¼ï½œæ•²å‡»å¾—åŠŸå¾·</title>
  <style>
    /* å…¨å±€å˜é‡ï¼Œæ§åˆ¶æ˜æš—æ¨¡å¼ï¼Œä¸ç­”æ¡ˆä¹‹ä¹¦é£æ ¼ç»Ÿä¸€ */
    :root {
      --bg-color: #f7f0e0; /* æµ…è‰²èƒŒæ™¯ï¼ˆçº¸å¼ è‰²ï¼‰ */
      --text-color: #333; /* ä¸»æ–‡å­—è‰² */
      --tip-color: #888; /* æç¤ºæ–‡å­—è‰² */
      --btn-bg: #8b5a2b; /* æŒ‰é’®èƒŒæ™¯ï¼ˆä¸ç­”æ¡ˆä¹‹ä¹¦ä¸€è‡´ï¼‰ */
      --btn-active: #704920; /* æŒ‰é’®æŒ‰å‹è‰² */
      --wooden-fish-bg: #b8860b; /* æœ¨é±¼ä¸»ä½“é¢œè‰²ï¼ˆæ·±æœ¨è‰²ï¼Œè´´è¿‘çœŸå®æœ¨é±¼ï¼‰ */
      --wooden-fish-shadow: 0 8px 16px rgba(184, 134, 11, 0.25); /* æœ¨é±¼é˜´å½±ï¼Œæ›´æœ‰ç«‹ä½“æ„Ÿ */
      --wooden-fish-dark: #8b6914; /* æœ¨é±¼æš—éƒ¨é¢œè‰²ï¼Œå¢å¼ºè½®å»“æ„Ÿ */
      --stick-color: #8b5a2b; /* å°æ£å­é¢œè‰² */
      --merit-color: #e63946; /* åŠŸå¾·æ–‡å­—é¢œè‰² */
      --transition: all 0.2s ease; /* ç»Ÿä¸€è¿‡æ¸¡æ•ˆæœ */
      --back-btn-bg: #000; /* è¿”å›æŒ‰é’®é»‘åº• */
      --back-btn-text: #fff; /* è¿”å›æŒ‰é’®ç™½å­— */
      --back-btn-active: #333; /* è¿”å›æŒ‰é’®æŒ‰å‹è‰² */
    }

    /* æš—é»‘æ¨¡å¼å˜é‡ï¼ŒåŒæ­¥é€‚é…æœ¨é±¼æ ·å¼ */
    .dark-mode {
      --bg-color: #1e1e24;
      --text-color: #f5f5f5;
      --tip-color: #aaa;
      --btn-bg: #3a3a42;
      --btn-active: #55555f;
      --wooden-fish-bg: #7a5c29; /* æš—é»‘æ¨¡å¼æœ¨é±¼é¢œè‰²ï¼ˆæ·±æ£•æœ¨è‰²ï¼‰ */
      --wooden-fish-shadow: 0 8px 16px rgba(122, 92, 41, 0.2);
      --wooden-fish-dark: #5c451e; /* æš—é»‘æ¨¡å¼æœ¨é±¼æš—éƒ¨ */
      --stick-color: #a67c52; /* æš—é»‘æ¨¡å¼å°æ£å­é¢œè‰² */
      --merit-color: #f77f00; /* æš—é»‘æ¨¡å¼åŠŸå¾·æ–‡å­—é¢œè‰² */
      --back-btn-bg: #000;
      --back-btn-text: #fff;
      --back-btn-active: #555;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: var(--bg-color);
      font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 0 20px;
      text-align: center;
      transition: var(--transition);
      overflow: hidden; /* ç¦æ­¢é¡µé¢æ»šåŠ¨ */
      position: relative;
    }

    /* é¡¶éƒ¨æç¤ºè¯­ */
    .tip {
      font-size: 16px;
      color: var(--tip-color);
      margin-bottom: 30px;
      transition: var(--transition);
    }

    /* æœ¨é±¼å®¹å™¨ï¼ˆæ ¸å¿ƒï¼‰ */
    .fish-container {
      position: relative;
      width: 280px;
      height: 220px;
      margin-bottom: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* æœ¨é±¼æ ·å¼ï¼ˆä¼˜åŒ–åï¼Œè¿˜åŸçœŸå®æœ¨é±¼è½®å»“ï¼Œæ‘’å¼ƒé¢åŒ…æ„Ÿï¼‰ */
    .wooden-fish {
      width: 260px;
      height: 160px;
      /* è°ƒæ•´åœ†è§’ï¼Œä¸­é—´é¼“ã€ä¸¤ç«¯ç•¥æ”¶ï¼Œè´´åˆæœ¨é±¼çœŸå®å½¢çŠ¶ */
      border-radius: 60% 60% 40% 40%;
      background: linear-gradient(145deg, var(--wooden-fish-bg), var(--wooden-fish-dark)); /* æœ¨çº¹æ¸å˜ï¼Œå¢å¼ºè´¨æ„Ÿ */
      box-shadow: var(--wooden-fish-shadow);
      position: relative;
      transition: var(--transition);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer; /* æç¤ºæœ¨é±¼å¯ç‚¹å‡» */
    }

    /* æœ¨é±¼é¡¶éƒ¨å‡¹é™·ï¼ˆæ•²å‡»éƒ¨ä½ï¼Œå¢å¼ºçœŸå®æ„Ÿï¼‰ */
    .wooden-fish::before {
      content: "";
      position: absolute;
      top: 25px;
      width: 160px;
      height: 80px;
      border-radius: 50% 50% 45% 45%;
      background: rgba(0,0,0,0.08); /* å‡¹é™·é˜´å½±ï¼Œæ¨¡æ‹Ÿæœ¨é±¼æ•²å‡»æ§½ */
    }

    /* æœ¨é±¼æœ¨çº¹ï¼ˆæ¨ªå‘çº¹ç†ï¼Œé¿å…å•è°ƒï¼Œæ›´åƒçœŸå®æœ¨å¤´ï¼‰ */
    .wooden-fish::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 60% 60% 40% 40%;
      background: repeating-linear-gradient(
        transparent,
        transparent 8px,
        rgba(0,0,0,0.05) 8px,
        rgba(0,0,0,0.05) 10px
      );
      pointer-events: none; /* ä¸å½±å“ç‚¹å‡» */
    }

    /* å°æ£å­æ ·å¼ï¼ˆå¾®è°ƒä½ç½®ï¼Œè´´åˆæœ¨é±¼æ•²å‡»è§’åº¦ï¼‰ */
    .stick {
      position: absolute;
      right: -15px;
      top: 45%;
      transform: translateY(-50%) rotate(20deg);
      width: 85px;
      height: 8px;
      background: linear-gradient(90deg, var(--stick-color), #6d4c2f); /* æ£å­æ¸å˜ï¼Œæ›´çœŸå® */
      border-radius: 4px;
      cursor: pointer;
      transition: var(--transition);
      z-index: 10;
    }

    /* å°æ£å­æ•²å‡»æ—¶æ‘†åŠ¨åŠ¨ç”» */
    .stick.active {
      transform: translateY(-50%) rotate(-10deg);
    }

    /* æœ¨é±¼æ•²å‡»æ—¶ç¼©æ”¾åŠ¨ç”»ï¼ˆå¾®è°ƒå¹…åº¦ï¼Œæ›´è‡ªç„¶ï¼‰ */
    .wooden-fish.active {
      transform: scale(0.97);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }

    /* åŠŸå¾·+1é£˜å‡ºæ–‡å­—ï¼ˆåˆå§‹éšè—ï¼‰ */
    .merit {
      position: absolute;
      top: -30px;
      font-size: 20px;
      color: var(--merit-color);
      font-weight: bold;
      opacity: 0;
      transition: all 0.8s ease;
      z-index: 20;
    }

    /* åŠŸå¾·é£˜å‡ºåŠ¨ç”» */
    .merit.show {
      opacity: 1;
      transform: translateY(-40px);
    }

    /* åŠŸå¾·è®¡æ•°åŒº */
    .merit-count {
      font-size: 24px;
      color: var(--text-color);
      font-weight: bold;
      margin-bottom: 30px;
    }

    /* æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼ˆä¸ç­”æ¡ˆä¹‹ä¹¦ä¸€è‡´ï¼Œå›ºå®šå³ä¸Šè§’ï¼‰ */
    .mode-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--btn-bg);
      color: #fff;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: var(--transition);
    }

    .mode-btn:active {
      transform: scale(0.9);
      background: var(--btn-active);
    }

    /* è¿”å›æŒ‰é’®æ ·å¼ï¼ˆé»‘åº•ç™½å­—ï¼Œå›ºå®šå·¦ä¸Šè§’ï¼Œé€‚é…æ‰‹æœºï¼‰ */
    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--back-btn-bg);
      color: var(--back-btn-text);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: var(--transition);
      z-index: 30; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ï¼Œä¸è¢«é®æŒ¡ */
    }

    .back-btn:active {
      transform: scale(0.9);
      background: var(--back-btn-active);
    }
  </style>
</head>
<body>
  <!-- è¿”å›æŒ‰é’®ï¼šç‚¹å‡»è¿”å›ä¸»é¡µé¢index.html -->
  <button class="back-btn" id="backBtn" title="è¿”å›ä¸»é¡µé¢" onclick="window.location.href='index.html'">â†</button>
  <!-- æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
  <button class="mode-btn" id="modeBtn" title="åˆ‡æ¢æš—é»‘æ¨¡å¼">ğŸŒ™</button>

  <!-- æç¤ºè¯­ï¼šä¿®æ”¹ä¸ºæç¤ºç‚¹å‡»æœ¨é±¼æˆ–å°æ£å­ -->
  <div class="tip">ç‚¹å‡»æœ¨é±¼æˆ–å°æ£å­ï¼Œå³å¯æ•²å‡»å¾—åŠŸå¾·</div>

  <!-- æœ¨é±¼å®¹å™¨ï¼ˆæœ¨é±¼+å°æ£å­+åŠŸå¾·é£˜å­—ï¼‰ -->
  <div class="fish-container">
    <div class="wooden-fish" id="woodenFish"></div>
    <div class="stick" id="stick"></div>
    <div class="merit" id="merit">åŠŸå¾·+1</div>
  </div>

  <!-- åŠŸå¾·è®¡æ•° -->
  <div class="merit-count" id="meritCount">åŠŸå¾·ï¼š0</div>

  <script>
    // 1. è·å–DOMå…ƒç´ 
    const stick = document.getElementById('stick');
    const woodenFish = document.getElementById('woodenFish');
    const merit = document.getElementById('merit');
    const meritCount = document.getElementById('meritCount');
    const modeBtn = document.getElementById('modeBtn');
    const backBtn = document.getElementById('backBtn');

    // 2. æ ¸å¿ƒå˜é‡ï¼šåŠŸå¾·è®¡æ•°ï¼ˆåˆå§‹ä¸º0ï¼‰
    let meritNum = 0;

    // 3. æ•²å‡»æœ¨é±¼æ ¸å¿ƒé€»è¾‘ï¼ˆå°è£…ä¸ºå‡½æ•°ï¼Œä¾›æœ¨é±¼å’Œå°æ£å­å…±ç”¨ï¼‰
    function tapWoodenFish() {
      // è§¦å‘å°æ£å­æ‘†åŠ¨åŠ¨ç”»
      stick.classList.add('active');
      // è§¦å‘æœ¨é±¼ç¼©æ”¾åŠ¨ç”»
      woodenFish.classList.add('active');
      // è§¦å‘åŠŸå¾·+1é£˜å‡ºåŠ¨ç”»
      merit.classList.add('show');
      // åŠŸå¾·è®¡æ•°ç´¯åŠ 
      meritNum++;
      // æ›´æ–°åº•éƒ¨è®¡æ•°æ˜¾ç¤º
      meritCount.textContent = `åŠŸå¾·ï¼š${meritNum}`;

      // ç§»é™¤åŠ¨ç”»ç±»ï¼ˆé¿å…é‡å¤ç‚¹å‡»æ— æ•ˆæœï¼‰
      setTimeout(() => {
        stick.classList.remove('active');
        woodenFish.classList.remove('active');
      }, 200);

      // ç§»é™¤åŠŸå¾·é£˜å­—ï¼ˆåŠ¨ç”»ç»“æŸåéšè—ï¼‰
      setTimeout(() => {
        merit.classList.remove('show');
      }, 800);
    }

    // 4. ç»™å°æ£å­ç»‘å®šç‚¹å‡»äº‹ä»¶
    stick.addEventListener('click', tapWoodenFish);
    // ç»™æœ¨é±¼ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼ˆå®ç°ç‚¹å‡»æœ¨é±¼ä¹Ÿèƒ½è§¦å‘ï¼‰
    woodenFish.addEventListener('click', tapWoodenFish);

    // 5. æ˜æš—æ¨¡å¼åˆ‡æ¢ï¼ˆä¸ç­”æ¡ˆä¹‹ä¹¦é€»è¾‘ä¸€è‡´ï¼Œè‡ªåŠ¨æ£€æµ‹æ—¶é—´+æ‰‹åŠ¨åˆ‡æ¢ï¼‰
    let isDarkMode = false;

    // è‡ªåŠ¨æ£€æµ‹æ—¶é—´ï¼Œåˆ¤æ–­æ˜¯å¦å¼€å¯æš—é»‘æ¨¡å¼ï¼ˆ7:00-18:00æµ…è‰²ï¼Œ18:00-æ¬¡æ—¥7:00æ·±è‰²ï¼‰
    function autoDetectDarkMode() {
      const now = new Date();
      const hour = now.getHours();
      // åˆ¤æ–­å½“å‰æ—¶æ®µï¼Œå¤œé—´å¼€å¯æš—é»‘æ¨¡å¼
      if (hour >= 18 || hour < 7) {
        isDarkMode = true;
        document.body.classList.add('dark-mode');
        modeBtn.textContent = 'â˜€ï¸'; // å¤œé—´æ¨¡å¼æŒ‰é’®æ˜¾ç¤ºå¤ªé˜³å›¾æ ‡
      } else {
        isDarkMode = false;
        document.body.classList.remove('dark-mode');
        modeBtn.textContent = 'ğŸŒ™'; // ç™½å¤©æ¨¡å¼æŒ‰é’®æ˜¾ç¤ºæœˆäº®å›¾æ ‡
      }
    }

    // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ‰§è¡Œæ—¶é—´æ£€æµ‹ï¼Œåˆ‡æ¢å¯¹åº”æ¨¡å¼
    autoDetectMode();

    // æ‰‹åŠ¨åˆ‡æ¢æš—é»‘æ¨¡å¼ï¼ˆä¿ç•™åŸæœ‰åŠŸèƒ½ï¼Œå¯è¦†ç›–è‡ªåŠ¨æ¨¡å¼ï¼‰
    modeBtn.addEventListener('click', () => {
      isDarkMode = !isDarkMode;
      document.body.classList.toggle('dark-mode', isDarkMode);
      modeBtn.textContent = isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™';
    });
  </script>
</body>
</html>